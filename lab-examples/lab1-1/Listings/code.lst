


ARM Macro Assembler    Page 1 


    1 00000000         ;*******************************************************
                       ********
    2 00000000         ; Program PracticeLab.s
    3 00000000         ; Clear memory locations 0x2000.0400 - 0x2000.041F,
    4 00000000         ; then load these locations with consecutive numbers sta
                       rting
    5 00000000         ; with 00.
    6 00000000         ; 'CONST' is the number of locations operated on.
    7 00000000         ; 'FIRST' is the address of first memory address.
    8 00000000         ;*******************************************************
                       ********
    9 00000000         
   10 00000000         ;*******************************************************
                       ********
   11 00000000         ; EQU Directives
   12 00000000         ; These directives do not allocate memory
   13 00000000         ;*******************************************************
                       ********
   14 00000000         ;SYMBOL  DIRECTIVE VALUE   COMMENT
   15 00000000 20000400 
                       BASE    EQU              0x20000400
   16 00000000 20001000 
                       TARGET  EQU              0x20001000
   17 00000000         ;*******************************************************
                       ********
   18 00000000         ; Program section
   19 00000000         ;(Nibble separation) Write a program which takes the 32 
                       bits
   20 00000000         ;stored starting at the location 0x20000040 and stores t
                       he four least
   21 00000000         ;significant bits (LSBs) of the least significant byte i
                       n location
   22 00000000         ;0x20000044, i.e., separate these bits, and stores the f
                       our most
   23 00000000         ;significant bits (MSB) of the least significant byte in
                        location
   24 00000000         ;0x20000045 as the least significant bits.
   25 00000000         ;*******************************************************
                       ********
   26 00000000         ;LABEL  DIRECTIVE VALUE   COMMENT
   27 00000000                 AREA             main, READONLY, CODE
   28 00000000                 THUMB
   29 00000000                 EXTERN           subnop
   30 00000000                 EXPORT           __main
   31 00000000                 ENTRY
   32 00000000         
   33 00000000 4C18    __main  LDR              R4, = BASE
   34 00000002 4D19            LDR              R5, = TARGET
   35 00000004         ;MOV      R2, #99 MOD 10  ; R2 = 9
   36 00000004 F04F 0231       LDR              R2, = 0x31  ; ASCII "1"
   37 00000008 F04F 031C       LDR              R3, = 28
   38 0000000C F04F 0100       LDR              R1, = 0
   39 00000010 3B00            SUBS             R3, #0
   40 00000012         
   41 00000012 D326    for_8bit
                               BLO              done
   42 00000014         
   43 00000014 6820            LDR              R0, [R4]    ;bit-content
   44 00000016 F04F 020A       LDR              R2, = 10



ARM Macro Assembler    Page 2 


   45 0000001A FBB0 F0F2       UDIV             R0, R0, R2
   46 0000001E FA20 F003       LSR              R0, R0, R3  ;MSB 4 bit
   47 00000022 F000 000F       AND              R0, R0, #0xF
   48 00000026 2800            CMP              R0, #0
   49 00000028 D009            BEQ              fast_forw
   50 0000002A F04F 0101       LDR              R1, = 1
   51 0000002E 280A            CMP              R0, #10
   52 00000030 DA0D            BGE              downgrade
   53 00000032 F100 0030       ADD              R0, R0, #0x30
   54 00000036 F805 0B01       STRB             R0, [R5], #1
   55 0000003A 3B04            SUBS             R3, #4
   56 0000003C E7E9            B                for_8bit
   57 0000003E 3B04    fast_forw
                               SUBS             R3, #4
   58 00000040 2900            CMP              R1, #0
   59 00000042 D0E6            BEQ              for_8bit
   60 00000044 F04F 0030       LDR              R0, = 0x30
   61 00000048 F805 0B01       STRB             R0, [R5], #1
   62 0000004C E7E1            B                for_8bit
   63 0000004E         
   64 0000004E F1A0 000A 
                       downgrade
                               SUB              R0,#10
   65 00000052 F100 0030       ADD              R0, R0, #0x30
   66 00000056 F805 2B01       STRB             R2, [R5], #1
   67 0000005A F805 0B01       STRB             R0, [R5], #1
   68 0000005E 3B04            SUBS             R3, #4
   69 00000060 E7D7            B                for_8bit
   70 00000062         
   71 00000062 E7FE    done    B                done
   72 00000064         
   73 00000064         
   74 00000064         
   75 00000064         
   76 00000064                 END
              20000400 
              20001000 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\code.d -o.\objects\code.o -I.\RTE\_Target_1 -ID:\Keil
_v5\ARM\PACK\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C123 -ID:\Keil_v5\ARM\CMSIS\
Include --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 526" --
predefine="TM4C123GH6PM SETA 1" --list=.\listings\code.lst code.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

__main 00000000

Symbol: __main
   Definitions
      At line 33 in file code.s
   Uses
      At line 30 in file code.s
Comment: __main used once
done 00000062

Symbol: done
   Definitions
      At line 71 in file code.s
   Uses
      At line 41 in file code.s
      At line 71 in file code.s

downgrade 0000004E

Symbol: downgrade
   Definitions
      At line 64 in file code.s
   Uses
      At line 52 in file code.s
Comment: downgrade used once
fast_forw 0000003E

Symbol: fast_forw
   Definitions
      At line 57 in file code.s
   Uses
      At line 49 in file code.s
Comment: fast_forw used once
for_8bit 00000012

Symbol: for_8bit
   Definitions
      At line 41 in file code.s
   Uses
      At line 56 in file code.s
      At line 59 in file code.s
      At line 62 in file code.s
      At line 69 in file code.s

main 00000000

Symbol: main
   Definitions
      At line 27 in file code.s
   Uses
      None
Comment: main unused
6 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

BASE 20000400

Symbol: BASE
   Definitions
      At line 15 in file code.s
   Uses
      At line 33 in file code.s
Comment: BASE used once
TARGET 20001000

Symbol: TARGET
   Definitions
      At line 16 in file code.s
   Uses
      At line 34 in file code.s
Comment: TARGET used once
2 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

subnop 00000000

Symbol: subnop
   Definitions
      At line 29 in file code.s
   Uses
      None
Comment: subnop unused
1 symbol
345 symbols in table
